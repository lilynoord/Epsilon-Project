<style>
    .divcenter {margin:auto;vertical-align: middle;
        display: flex;
      justify-content: left;
      align-items: center;background-color:black;}
    .divcenter2 {margin:auto;vertical-align: middle;
        display: flex;
      justify-content: center;
      align-items: center;background-color:black;}
    .divhide {opacity:0;}
    .blink1 {margin:auto;background-color: #383838;border: 1px grey;padding: 32px 32px;border-radius: 50%;transition-duration: 0.3s;cursor: pointer;opacity:.8;}
    .blink3 {margin:auto;background-color: #d60012;box-shadow: 0 0px 16px 0 rgba(200,0,0,0.6), 0 6px 20px 0 rgba(200,0,0,0.58);border: 1px grey;padding: 32px 32px;border-radius: 50%;transition-duration: 1.2s;cursor: pointer;opacity:.8;}
    .blink4 {margin:auto;background-color: #d60012;box-shadow: 0 0px 16px 0 rgba(200,0,0,0.6), 0 6px 20px 0 rgba(200,0,0,0.58);opacity:0;background-color: #383838;padding: 32px 32px;border-radius: 50%;transition-duration: 1s;}
    .blink5 {opacity:0;padding: 0px 0px;}
    .blink2 {margin:auto;background-color: #d60012;box-shadow: 0 0px 16px 0 rgba(200,0,0,0.6), 0 6px 20px 0 rgba(200,0,0,0.58);border: 1px grey;padding: 32px 32px;border-radius: 50%;transition-duration: 0.3s;cursor: pointer;}
    
    
    .hidetext {
        font-family:"Courier New", monospace;
        opacity:0;
        transition-duration: 0.8s;
    }
    .txt1 {
        margin:1px 1px;
        opacity:1;
        color:white;
        font-family:"Courier New", monospace;
        transition-duration: 0.8s;
    }
    .cont1 {
        opacity:0;
        transition-duration:1s;
        padding:-10px -10px
        
    }
    .cont2 {
        margin:auto;
        opacity:1;
        padding:5px 5px;
        transition-duration:1s;
        border-radius: 50%;
        box-shadow: 0 0px 16px 0 rgba(255,255,255,0.6), 0 6px 20px 0 rgba(0,0,0,0.58);
        
    
    }
    
    </style>
    <div class="divcenter" id="div">
    <button class="blink2" id="blinker"></button>
    <p class="hidetext" id="msg"><p>
    
    </div>
    <div class="divcenter2" id="div">
    <button class="cont1" id="cont" onclick="window.open('https://sites.google.com/view/epsilonproject/chapter-1-secrets-kept/lhmdquz');"></button>
    </div>
    
    
    
    <script>
    //Sleep function
    function sleep(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
    }
    
    //Blinker
    let click = 0
    document.getElementById("blinker").onclick = function() {pressBlinker()};
    function pressBlinker() {
        click = 1;
    }
    async function blink() {
        while (click === 0){
            
            document.getElementById("blinker").className = "blink2";
            if (click===1){document.getElementById("blinker").className = "blink1";break;}
            await sleep(400);
            
            document.getElementById("blinker").className = "blink1";
            if (click===1){document.getElementById("blinker").className = "blink1";break;}
            await sleep(400);
            document.getElementById("blinker").className = "blink2";
            if (click===1){document.getElementById("blinker").className = "blink1";break;}
            await sleep(400);
            document.getElementById("blinker").className = "blink1";
            if (click===1){document.getElementById("blinker").className = "blink1";break;}
            await sleep(400);
            document.getElementById("blinker").className = "blink2";
            if (click===1){document.getElementById("blinker").className = "blink1";break;}
            await sleep(400);
            document.getElementById("blinker").className = "blink1";
            if (click===1){document.getElementById("blinker").className = "blink1";break;}
            await sleep(1000);
            document.getElementById("blinker").className = "blink2";
            if (click===1){document.getElementById("blinker").className = "blink1";break;}
            await sleep(800);
            document.getElementById("blinker").className = "blink1";
            if (click===1){document.getElementById("blinker").className = "blink1";break;}
            await sleep(400);
            document.getElementById("blinker").className = "blink2";
            if (click===1){document.getElementById("blinker").className = "blink1";break;}
            await sleep(800);
            document.getElementById("blinker").className = "blink1";
            if (click===1){document.getElementById("blinker").className = "blink1";break;}
            await sleep(400);
            document.getElementById("blinker").className = "blink2";
            if (click===1){document.getElementById("blinker").className = "blink1";break;}
            await sleep(800);
            document.getElementById("blinker").className = "blink1";
            if (click===1){document.getElementById("blinker").className = "blink1";break;}
            await sleep(1000);
        }
        document.getElementById("blinker").className = "blink3"
        document.getElementById("blinker").className = "blink4"
        await sleep(2000);
        document.getElementById("blinker").className = "blink5"
        intro();
    }
    blink();
    //
    //Intro text
    async function cursorBlink(message,times){
        var i = times;
        document.getElementById("msg").className = "txt1";
        while (i > 0){
        
        document.getElementById("msg").innerText = message + c;
        await sleep(400);
        document.getElementById("msg").innerText = message ;
        await sleep(400);
        i-=1;}
    
    }
    async function type(txt,prior = ""){
        let message = prior
        let s1 = txt;
        for (let x in s1){
            if (s1[x] === "`" ) {
                await cursorBlink(message,1);
            } else if (s1[x] === "~"){
                await cursorBlink(message,3);
                
            } else {
                await sleep(75);
                message += s1[x];
                document.getElementById("msg").innerText = message + c;
            }
        }
        return message;
        
    }
    function clearmsg(){
        document.getElementById("msg").className = "hidetext";
    }
    let c = "|";
    let text1 = "~Hello?~ Are you there?~ \nGood...~";
    let text2 = "~If you're reading this, `it's already too late for me.~~~";
    let text3 = "\n I've done what I can to stop her.~ Clearly it wasn't enough...~~~~";
    let text4 = "~I feared this may happen. `As a precaution,` I've prepared some...~ contingencies...~~~"
    let text5 = "~Before we can continue, `I need to make sure you’re not one of hers.~"
    let text6 = "\n I’ve devised a test, of sorts.~ I hope you understand.~\n If you are who you say you are, `well,` I suppose we’ll find out...~~~~"
    
    async function intro(){
        let message = ""
        message = await type(text1);
        //await cursorBlink(message,8);
        clearmsg();
        await sleep(800);
        message = await type(text2);
        message = await type(text3,message);
        clearmsg();
        await sleep(800);
        message = await type(text4);
        clearmsg();
        await sleep(800);
        message = await type(text5);
        message = await type(text6,message);
        clearmsg();
        await sleep(800);
        document.getElementById("cont").className = "cont2";
        document.getElementById("cont").innerText = "Continue";
           document.getElementById("cont").onclick = function() 		{end()};
        
    }
    function end(){
        window.open('https://sites.google.com/view/epsilonproject/chapter-1-secrets-kept/part-1');
        document.getElementById("div").className = "divhide";
    }
    
    
    
    </script>
    